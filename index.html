<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DynoStore Multi-Seller WA</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Outfit', sans-serif; }
body { background:#000; color:#fff; display:flex; flex-direction:column; min-height:100vh; }

/* HEADER */
header { background:#000; padding:20px; display:flex; justify-content:space-between; align-items:center; border-bottom:2px solid #fff; z-index:100; }
header h1 { font-size:28px; font-weight:700; color:#fff; }
.header-right { display:flex; align-items:center; gap:10px; }
#search-input { padding:10px 15px; border-radius:8px; border:1px solid #555; background:#111; color:#fff; outline:none; width:250px; font-size:16px; transition: all 0.3s; }
#search-input::placeholder { color:#888; }
#search-input:focus { border-color:#fff; background-color:#222; }
#search-icon { width:24px; height:24px; cursor:pointer; }

/* MAIN */
main { flex:1; overflow-y:auto; padding:20px; display:flex; flex-direction:column; gap:20px; }

/* PRODUCT CARD */
.product-card { background:#000; border-radius:15px; border:2px solid #fff; display:flex; flex-wrap:nowrap; align-items:center; transition: transform 0.3s, box-shadow 0.3s; padding:15px; width:100%; will-change: transform; opacity:0; transform: translateY(20px); } 
.product-card.show { animation: productFadeIn 0.5s ease forwards; } /* animasi masuk */
.product-card:hover { transform:translateY(-2px); box-shadow:0 4px 15px rgba(255,255,255,0.1); }
.product-image { flex:0 0 35%; max-width:35%; overflow:hidden; border-radius:15px; will-change: transform; }
.product-image img { width:100%; height:auto; object-fit:cover; border-radius:15px; transition: transform 0.3s; }
.product-card:hover .product-image img { transform: scale(1.02); }
.product-details { flex:1; padding-left:20px; display:flex; flex-direction:column; justify-content:flex-start; }
.product-details h2 { font-size:22px; margin-bottom:5px; color:#fff; }
.seller-name { font-size:14px; color:#bbb; margin-bottom:10px; }
.price { font-size:20px; font-weight:700; color:#ffd700; margin-bottom:15px; }
.actions { display:flex; gap:10px; flex-wrap:nowrap; margin-bottom:10px; }
.actions button { flex:1; padding:10px 12px; font-size:14px; font-weight:600; border-radius:8px; cursor:pointer; transition: all 0.3s; }
.buy-now { background:#ffd700; color:#000; border:none; font-weight:700; }
.buy-now:hover { background:#e0c200; transform:translateY(-1px); }
.add-cart { background:transparent; color:#fff; border:2px solid #fff; }
.add-cart:hover { background:rgba(255,255,255,0.1); transform:scale(1.03); }

/* ANIMASI MASUK PRODUK */
@keyframes productFadeIn {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* MINI-CART PREMIUM */
#mini-cart {
position:fixed; bottom:60px; left:50%; transform:translateX(-50%);
width:90%; max-width:400px; max-height:0; background:rgba(17,17,17,0.95); overflow:hidden;
transition:max-height 0.4s ease, padding 0.4s ease; z-index:150; padding:0 20px;
display:flex; flex-direction:column; border-radius:10px 10px 0 0;
will-change: max-height, padding;
}
#mini-cart.expanded { max-height:400px; padding:15px 20px; }
#mini-cart-header { display:flex; justify-content:space-between; align-items:center; }
#mini-cart-header h3 { color:#ffd700; font-size:16px; }
#mini-cart-header button { background:red; color:#fff; border:none; border-radius:5px; padding:2px 8px; cursor:pointer; font-weight:700; }
#cart-items { list-style:none; padding:0; margin-top:10px; overflow-y:auto; max-height:300px; }
#cart-items li { display:flex; justify-content:space-between; align-items:center; padding:5px 0; border-bottom:1px solid #fff; }

/* ITEM MASUK PREMIUM */
@keyframes cartItemInPremium {
0% { opacity: 0; transform: translateY(10px) scale(0.9); }
100% { opacity: 1; transform: translateY(0) scale(1); }
}

/* ICON CART PREMIUM */
@keyframes cartBumpGlow {
0% { transform: scale(1); filter: drop-shadow(0 0 0px #ffd700); }
50% { transform: scale(1.3); filter: drop-shadow(0 0 6px #ffd700); }
100% { transform: scale(1); filter: drop-shadow(0 0 0px #ffd700); }
}
.cart-badge.bump { animation: cartBumpGlow 0.4s ease; }

/* REMOVE BUTTON */
.cart-item-remove { background:transparent; border:none; padding:0; cursor:pointer; }
.cart-item-remove img { display:block; width:18px; height:18px; }

/* FOOTER */
footer { position:fixed; bottom:0; left:0; width:100%; background:#000; border-top:2px solid #fff; padding:10px 20px; display:flex; justify-content:space-around; align-items:center; z-index:100; }
.footer-icon { position:relative; cursor:pointer; display:flex; flex-direction:column; align-items:center; gap:3px; color:#fff; font-size:12px; }
.footer-icon img { width:30px; height:30px; }
.cart-badge { position:absolute; top:-5px; right:-5px; background:red; color:#fff; font-size:12px; font-weight:700; border-radius:50%; padding:2px 6px; display:none; }

/* RESPONSIVE */
@media(max-width:768px){
#search-input{width:200px;font-size:14px;}
.product-card{flex-wrap:nowrap;}
.product-image{flex:0 0 35%;}
.product-details{padding-left:15px;}
.product-details h2{font-size:20px;}
.price{font-size:20px;}
.actions button{font-size:13px; padding:8px 10px;}
}
@media(max-width:480px){
#search-input{width:140px;font-size:14px;}
.product-card{flex-direction:row; gap:12px; align-items:flex-start; padding:12px;}
.product-image{flex:0 0 45%; max-width:45%;}
.product-image img{width:100%; height:auto; border-radius:12px;}
.product-details{flex:1; padding-left:5px;}
.product-details h2{font-size:18px; line-height:20px;}
.price{font-size:18px; margin-bottom:10px;}
.actions{flex-direction:column; gap:6px;}
.actions button{width:100%; padding:8px 10px; font-size:13px;}
}

/* MINI-CART FULL LEBAR DESKTOP */
@media(min-width:769px){
#mini-cart{ width:100%; max-width:none; left:0; transform:none; border-radius:0; }
}
</style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <h1>DynoStore</h1>
    <div class="header-right">
      <input type="text" id="search-input" placeholder="Search product...">
      <img src="https://i.imgur.com/56IP0jb.png" id="search-icon" alt="Search">
    </div>
  </header>

  <!-- MAIN -->
  <main id="product-container">
    <!-- PRODUCT 1 -->
    <div class="product-card">
      <div class="product-image"><img src="https://i.imgur.com/urIz6Xm.jpeg" alt="Product"></div>
      <div class="product-details">
        <h2>Jasa Commission Art</h2>
        <p class="seller-name">by Bulan Creations</p>
        <div class="price">Rp 100.000</div>
        <div class="actions">
          <button class="buy-now">View Details</button>
          <button class="add-cart">Add to Cart</button>
        </div>
      </div>
    </div>

    <!-- PRODUCT 2 -->
    <div class="product-card">
      <div class="product-image"><img src="https://i.imgur.com/urIz6Xm.jpeg" alt="Product"></div>
      <div class="product-details">
        <h2>Beat Jersey Club</h2>
        <p class="seller-name">by SRVLR TEAM</p>
        <div class="price">Rp 150.000</div>
        <div class="actions">
          <button class="buy-now">View Details</button>
          <button class="add-cart">Add to Cart</button>
        </div>
      </div>
    </div>
  </main>

  <!-- MINI-CART -->
  <div id="mini-cart">
    <div id="mini-cart-header">
      <h3>Cart</h3>
      <button>X</button>
    </div>
    <ul id="cart-items"></ul>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="footer-icon" onclick="alert('Home clicked')">
      <img src="https://i.imgur.com/EoomL6q.png" alt="Home">
      <span>Home</span>
    </div>
    <div class="footer-icon" id="cart-footer">
      <img src="https://i.imgur.com/5ca4mva.png" alt="Cart">
      <span>Cart</span>
      <span class="cart-badge" id="cart-badge">0</span>
    </div>
    <div class="footer-icon" onclick="alert('Profile clicked')">
      <img src="https://i.imgur.com/6hVaWxq.png" alt="Profile">
      <span>Profile</span>
    </div>
  </footer>

<script>
const searchInput = document.getElementById('search-input');
const products = Array.from(document.querySelectorAll('.product-card'));
const miniCart = document.getElementById('mini-cart');
const cartBadge = document.getElementById('cart-badge');
const cartItemsList = document.getElementById('cart-items');
let cart = JSON.parse(localStorage.getItem('cart')) || [];

/* SEARCH FUNCTION */
searchInput.addEventListener('input', () => {
  const query = searchInput.value.toLowerCase();
  products.forEach(card => {
    const title = card.querySelector('h2').textContent.toLowerCase();
    card.style.display = title.includes(query) ? 'flex' : 'none';
  });
});

/* TOGGLE MINI-CART */
function toggleMiniCart(){ miniCart.classList.toggle('expanded'); }
document.querySelector('#mini-cart-header button').addEventListener('click', toggleMiniCart);
document.getElementById('cart-footer').addEventListener('click', toggleMiniCart);

/* UPDATE CART BADGE */
function updateCartBadge(){
  if(cart.length>0){
    cartBadge.style.display='block';
    cartBadge.textContent = cart.length;
    cartBadge.classList.add('bump');
    setTimeout(()=>cartBadge.classList.remove('bump'),400);
  } else cartBadge.style.display='none';
}

/* ADD TO CART */
products.forEach(card => {
  const name = card.querySelector('h2').textContent;
  const price = card.querySelector('.price').textContent;
  const sellerName = card.querySelector('.seller-name').textContent.replace('by ','');
  card.querySelector('.add-cart').addEventListener('click', () => {
    const exists = cart.some(item=>item.name===name && item.sellerName===sellerName);
    if(exists){ alert('Produk sudah ada di keranjang!'); return; }
    cart.push({name, price, sellerName});
    localStorage.setItem('cart',JSON.stringify(cart));

    // Add only new item to DOM
    const li = document.createElement('li');
    li.innerHTML = `<span>${name} (${sellerName}) - ${price}</span>
      <button class="cart-item-remove"><img src="https://i.imgur.com/MIAl6P5.png" alt="Hapus"></button>`;
    li.style.animation = 'cartItemInPremium 0.3s ease forwards';
    li.querySelector('.cart-item-remove').addEventListener('click', () => removeFromCart(name,sellerName,li));
    cartItemsList.appendChild(li);

    updateCartBadge();
  });

  // View Details
  card.querySelector('.buy-now').addEventListener('click', ()=>{
    window.location.href = "detail.html?product="+encodeURIComponent(name);
  });
});

/* REMOVE FROM CART */
function removeFromCart(name,sellerName,li){
  const index = cart.findIndex(item=>item.name===name && item.sellerName===sellerName);
  if(index!==-1){
    cart.splice(index,1);
    localStorage.setItem('cart',JSON.stringify(cart));
    li.remove();
    updateCartBadge();
  }
}

/* INITIAL LOAD CART */
cart.forEach(item=>{
  const li = document.createElement('li');
  li.innerHTML = `<span>${item.name} (${item.sellerName}) - ${item.price}</span>
    <button class="cart-item-remove"><img src="https://i.imgur.com/MIAl6P5.png" alt="Hapus"></button>`;
  li.querySelector('.cart-item-remove').addEventListener('click', () => removeFromCart(item.name,item.sellerName,li));
  cartItemsList.appendChild(li);
});
updateCartBadge();

/* ANIMASI MASUK PRODUK */
window.addEventListener('DOMContentLoaded', () => {
  products.forEach((card, index) => {
    setTimeout(() => { card.classList.add('show'); }, index * 150);
  });
});
</script>
</body>
</html>
